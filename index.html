<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mouse Clicker</title>
  <style>
    body {
      background: #fef5e7;
      font-family: 'Comic Sans MS', cursive;
      text-align: center;
      padding: 20px;
      color: #333;
    }
    h1 {
      font-size: 3em;
    }
    #cheese-counter {
      font-size: 2em;
      margin: 20px;
    }
    #mouse {
      width: 150px;
      cursor: pointer;
    }
    .shop-item, .upgrade-item {
      border: 2px solid #ccc;
      padding: 10px;
      margin: 10px auto;
      width: 300px;
      background: #fff8dc;
      cursor: pointer;
    }
    .shop-item:hover, .upgrade-item:hover {
      background: #ffefb3;
    }
    .section-title {
      font-size: 1.5em;
      margin-top: 30px;
    }
    button {
      margin: 10px;
      padding: 10px;
    }
  </style>
</head>
<body>

  <h1>ğŸ­ Mouse Clicker</h1>
  <p id="cheese-counter">ğŸ§€ Cheese: 0</p>
  <img src="https://upload.wikimedia.org/wikipedia/commons/3/32/House_mouse.jpg" id="mouse" alt="Mouse">

  <div class="section-title">ğŸ  Buildings</div>
  <div class="shop-item" onclick="buyBuilding('mouseHole')">
    Mouse Hole ğŸ­<br>
    Owned: <span id="count-mouseHole">0</span><br>
    Cost: <span id="cost-mouseHole">10</span> cheese<br>
    +1 cheese/sec
  </div>
  <div class="shop-item" onclick="buyBuilding('cheeseFactory')">
    Cheese Factory ğŸ§€ğŸ­<br>
    Owned: <span id="count-cheeseFactory">0</span><br>
    Cost: <span id="cost-cheeseFactory">100</span> cheese<br>
    +10 cheese/sec
  </div>

  <div class="section-title">ğŸ”§ Upgrades</div>
  <div class="upgrade-item" onclick="buyUpgrade('doubleClick')">
    Double Click ğŸ¾<br>
    Cost: <span id="cost-doubleClick">50</span><br>
    Double your click power
  </div>
  <div class="upgrade-item" onclick="buyUpgrade('fasterMice')">
    Faster Mice ğŸš€ğŸ­<br>
    Cost: <span id="cost-fasterMice">200</span><br>
    Buildings produce twice as fast
  </div>

  <div class="section-title">ğŸ’¾ Save & Load</div>
  <button onclick="saveGame()">Save Game</button>
  <button onclick="loadGame()">Load Game</button>
  <button onclick="resetGame()">Reset Game</button>

  <script>
    let cheese = 0;
    let clickPower = 1;
    let buildingMultiplier = 1;

    const buildings = {
      mouseHole: {
        cost: 10,
        count: 0,
        rate: 1
      },
      cheeseFactory: {
        cost: 100,
        count: 0,
        rate: 10
      }
    };

    const upgrades = {
      doubleClick: {
        cost: 50,
        purchased: false,
        effect: () => { clickPower *= 2; }
      },
      fasterMice: {
        cost: 200,
        purchased: false,
        effect: () => { buildingMultiplier *= 2; }
      }
    };

    document.getElementById("mouse").addEventListener("click", () => {
      cheese += clickPower;
      updateDisplay();
    });

    function buyBuilding(type) {
      let b = buildings[type];
      if (cheese >= b.cost) {
        cheese -= b.cost;
        b.count++;
        b.cost = Math.floor(b.cost * 1.25);
        updateDisplay();
      }
    }

    function buyUpgrade(type) {
      let u = upgrades[type];
      if (!u.purchased && cheese >= u.cost) {
        cheese -= u.cost;
        u.purchased = true;
        u.effect();
        updateDisplay();
      }
    }

    function generateCheese() {
      for (let type in buildings) {
        cheese += buildings[type].count * buildings[type].rate * buildingMultiplier / 10;
      }
      updateDisplay();
    }

    function updateDisplay() {
      document.getElementById("cheese-counter").innerText = `ğŸ§€ Cheese: ${Math.floor(cheese)}`;
      for (let b in buildings) {
        document.getElementById("count-" + b).innerText = buildings[b].count;
        document.getElementById("cost-" + b).innerText = buildings[b].cost;
      }
      for (let u in upgrades) {
        if (upgrades[u].purchased) {
          document.querySelector(`#cost-${u}`).innerText = "âœ”ï¸ Purchased";
        } else {
          document.querySelector(`#cost-${u}`).innerText = upgrades[u].cost;
        }
      }
    }

    function saveGame() {
      const saveData = {
        cheese,
        clickPower,
        buildingMultiplier,
        buildings,
        upgrades
      };
      localStorage.setItem('mouseClickerSave', JSON.stringify(saveData));
      alert("Game saved!");
    }

    function loadGame() {
      const data = localStorage.getItem('mouseClickerSave');
      if (data) {
        const save = JSON.parse(data);
        cheese = save.cheese || 0;
        clickPower = save.clickPower || 1;
        buildingMultiplier = save.buildingMultiplier || 1;
        Object.assign(buildings, save.buildings);
        Object.assign(upgrades, save.upgrades);
        for (let key in upgrades) {
          if (upgrades[key].purchased) upgrades[key].effect(); // Reapply effects
        }
        updateDisplay();
        alert("Game loaded!");
      } else {
        alert("No save found.");
      }
    }

    function resetGame() {
      if (confirm("Are you sure you want to reset everything?")) {
        localStorage.removeItem('mouseClickerSave');
        location.reload();
      }
    }

    setInterval(generateCheese, 100);
    updateDisplay();
  </script>

</body>
</html>
